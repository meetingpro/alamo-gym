<script type="text/javascript">
  var checkInCus = document.getElementById('theCheckIn');
  var checkOutCus = document.getElementById('theCheckOut');
  /*
  checkInCus.value = '';
  checkOutCus.value = '';
  */

  function checkCusClick() {
    var filter = document.getElementsByClassName('refine')[0];
    checkInCus.value = '';
    checkOutCus.value = '';
    filter.click();
  }

  var searchContainerList = document.getElementsByClassName('ArnLeftSearchContainer');
  var searchContainer = searchContainerList[0];

  function scrollCusClick() {
    if (searchContainer.getAttribute('style').includes('display: none')) {
      checkCusClick();
    }
  }

  var noDate = document.getElementsByClassName('ArnNoDates');
  for (btn in noDate) {
    var children = noDate[btn].childNodes;
    var child = children[0];
    child.addEventListener('click', scrollCusClick);
  }
</script>

<script type="text/javascript">
  var propertiesSec = document.getElementsByClassName('ArnRightListContainer')[0];
  var textHeader = document.createElement('div');
  //textHeader.classList.add('textHeader');
  textHeader.className += ' textHeader';
  var textHeaderTitle = document.createElement('h3');
  textHeaderTitle.innerText = 'Host Hotel Info';
  var textHeaderCont = document.createElement('div');
  textHeaderCont.innerHTML =
    "<div class='cusHostHotelInfo'><img src='/appSkins/41158/v6/themes/new/images/alamo_gym_logo.png' alt='Embassy Suites By Hilton, Denton TX'><h4>Partnering with Wyndham Garden Riverwalk </h4><h5>$129 per night for standard king size bed<br/><a href='https://www.wyndhamhotels.com/groups/gn/alamo-san-antonio-gymnastics'>Book Here</a></h5><h6>*deadline to get event rate is Jan 26, 2017 and are subject to availability.</h6><h6>Free parking on 9th street adjacent to hotel</h6><h6>Valet Parking $24.00 per day</h6><h6>Self Park $18 per day</h6></div><h4>Book Additional Hotels Below</h4>";

  // textHeader.appendChild(textHeaderTitle);
  textHeader.appendChild(textHeaderCont);

  var viewCheckLanding = document.getElementsByClassName('landingBottomContent');

  if (viewCheckLanding.length) {
    var searchContainer = document.getElementsByClassName('ArnSearchContainerMainDiv')[0];
    //textHeader.classList.add('textHeader--landing');
    textHeader.className += " textHeader--landing";
    searchContainer.insertBefore(textHeader, searchContainer.firstChild);
  } else {
    propertiesSec.insertBefore(textHeader, propertiesSec.firstChild);
  }
</script>

<script>
  var cusMToggle = document.getElementById('mNavToggle');
  var cusNavToTog = document.getElementsByClassName('cusCont__orgNav')[0];
  var cusMNavTogState = false

  function toggleCusMNav() {
    if (cusMNavTogState === false) {
      cusNavToTog.style.display = 'block';
      cusMNavTogState = true;
    } else if (cusMNavTogState === true) {
      cusNavToTog.style.display = 'none';
      cusMNavTogState = false;
    }
  }
  cusMToggle.addEventListener('click', toggleCusMNav);
</script>

<!-- custom location text
<script>
  var hotelsSearch = document.querySelector('#theBody.SearchHotels');
  if (hotelsSearch) {
    function newResultsMsg() {
      var searching = document.getElementById('searching');
      var pollingFinished = document.querySelector('.ArnRightListContainer .pollingFinished');
      // if we're running a search and polling hasn't finished, introduce a timeout
      if (searching && !pollingFinished) {
        console.log('polling');
        return setTimeout(newResultsMsg, 500);
      }
      console.log('polling finished');
      var resultsTitle = document.querySelector('.topPager.ArnPagerContainer .ArnPagerResult h3');
      var resultsTitleArray = resultsTitle.textContent.split(" ").slice(0, 3);
      var locationNum = resultsTitleArray.join(" ");
      var resultTitleNewString = locationNum.concat(" 501 Swisher Rd,  Lake Dallas, TX 75065");
      resultsTitle.textContent = resultTitleNewString;
      return;
    }
    newResultsMsg();
  }
</script>
-->

<script>
  if (window.location.href.indexOf('checkIn=') >= 0) {
    var cusCheckInStart = window.location.href.indexOf('checkIn=') + 8;
    var cusDatesTestChar = window.location.href[cusCheckInStart + 10];
    if (cusDatesTestChar === '&') {
      var cusCheckInDate = window.location.href.substring(cusCheckInStart, cusCheckInStart + 10);
      document.getElementById('theCheckIn').setValue(cusCheckInDate);
      if (window.location.href.indexOf('nights=') >= 0) {
        var stayNightsIndex = window.location.href.indexOf('nights=') + 7;
        var stayNights = window.location.href.substring(stayNightsIndex, stayNightsIndex + 1);
        var lastSlashIndex =
          cusCheckInDate
          .split('')
          .slice(3)
          .indexOf('/') + 3;
        var cusCheckOutDay = parseInt(cusCheckInDate.substring(3, lastSlashIndex)) + parseInt(stayNights);
        if (cusCheckOutDay < 10) {
          cusCheckOutDay = '0' + cusCheckOutDay.toString();
        }
        var cusCheckOutSplit = [];
        cusCheckOutSplit.push(cusCheckInDate.substring(0, 3));
        cusCheckOutSplit.push(cusCheckOutDay);
        cusCheckOutSplit.push(cusCheckInDate.substring(lastSlashIndex));
        document.getElementById('theCheckOut').setValue(cusCheckOutSplit.join(''));
      }
    }
  }
</script>